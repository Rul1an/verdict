version: 1
suite: complex-migration
model: fake-gpt
tests:
  - id: empty-schema
    input: { prompt: "test" }
    expected:
      type: args_valid
      policy: tests/fixtures/migration/policies/empty.yaml
  - id: strict-schema
    input: { prompt: "test" }
    expected:
      type: args_valid
      policy: tests/fixtures/migration/policies/strict.yaml
  - id: dup-sequence
    input: { prompt: "test" }
    expected:
      type: sequence_valid
      policy: tests/fixtures/migration/policies/dup_seq.yaml
