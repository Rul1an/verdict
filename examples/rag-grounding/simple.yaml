version: 1
suite: "rag_grounding_demo"
model: "demo-3d"

tests:
  - id: "rag_grounding_must_contain"
    input:
      prompt: "Wat is de eigen risico voor tandartskosten?"
      context:
        - "Polisvoorwaarden Basisverzekering 2024:"
        - "- Eigen risico algemeen: €385 per jaar"
        - "- Tandarts: geen eigen risico voor controle en reiniging"
        - "- Tandarts behandelingen: vallen onder algemeen eigen risico"
    expected:
      type: must_contain
      must_contain: ["385", "Controles", "reiniging"]

  - id: "rag_grounding_must_not_contain"
    input:
      prompt: "Wat is de eigen risico voor tandartskosten?"
      context:
        - "Polisvoorwaarden Basisverzekering 2024:"
        - "- Eigen risico algemeen: €385 per jaar"
        - "- Tandarts: geen eigen risico voor controle en reiniging"
        - "- Tandarts behandelingen: vallen onder algemeen eigen risico"
    expected:
      type: must_not_contain
      must_not_contain: ["€500", "€250", "onbeperkt"]

  - id: "rag_grounding_semantic"
    input:
      prompt: "Wat is de eigen risico voor tandartskosten?"
      context:
        - "Polisvoorwaarden Basisverzekering 2024:"
        - "- Eigen risico algemeen: €385 per jaar"
        - "- Tandarts: geen eigen risico voor controle en reiniging"
        - "- Tandarts behandelingen: vallen onder algemeen eigen risico"
    expected:
      type: semantic_similarity_to
      semantic_similarity_to: "Tandartsbehandelingen vallen onder €385 eigen risico, behalve controle en reiniging die geen eigen risico hebben."
      min_score: 0.88
